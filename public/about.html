<!DOCTYPE html>
<html>

<head>
  <!-- Basic -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Site Metas -->
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="author" content="" />

  <title>Fonicy</title>


  <!-- bootstrap core css -->
  <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />

  <!-- fonts style -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">

  <!--owl slider stylesheet -->
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />

  <!-- font awesome style -->
  <link href="css/font-awesome.min.css" rel="stylesheet" />

  <!-- Custom styles for this template -->
  <link href="css/style.css" rel="stylesheet" />
  <!-- responsive style -->
  <link href="css/responsive.css" rel="stylesheet" />

</head>

<body class="sub_page">

  <div class="hero_area">
    <!-- header section strats -->
    <header class="header_section">
      <div class="header_top">
        <div class="container-fluid header_top_container">
          <div class="lang_box dropdown">
            <a href="#" title="Language" class="nav-link" data-toggle="dropdown" aria-expanded="true">
              <img src="images/flag-france.png" alt="flag" class=" " title="france"> <i class=" " aria-hidden="true"></i>
            </a>
            <div class="dropdown-menu ">
              <a href="#" class="dropdown-item">
                <img src="images/flag-france.png" class="" alt="flag">
              </a>
            </div>
            <span>
              Français
            </span>
          </div>
          <div class="contact_nav">
            <a href="">
              <i class="fa fa-phone" aria-hidden="true"></i>
              <span>
                téléphone : +(33)0189 480 123
              </span>
            </a>
            <a href="https://www.google.com/intl/fr/gmail/about/">
              <i class="fa fa-envelope" aria-hidden="true"></i>
              <span>
                Email : CONTACT@DIGITALPOLE.FR
              </span>
            </a>
            <a href="https://www.google.com/maps/place/23+Rue+du+D%C3%A9part,+75014+Paris,+France/@48.8424255,2.3231097,19.04z/data=!4m6!3m5!1s0x47e671cc7cea12d3:0xa18549261354a602!8m2!3d48.842216!4d2.3235124!16s%2Fg%2F11b8v4bv_y?entry=ttu">
              <i class="fa fa-map-marker" aria-hidden="true"></i>
              <span>
                localisation : 23 RUE DU DEPART 75014 PARIS 
              </span>
            </a>
          </div>
          <div class="social_box">
            <a href="https://web.facebook.com/Digitalpole/?_rdc=1&_rdr">
              <i class="fa fa-facebook" aria-hidden="true"></i>
            </a>
            <a href="https://twitter.com/Digitalpole_UX">
              <i class="fa fa-twitter" aria-hidden="true"></i>
            </a>
            <a href="https://www.linkedin.com/company/digitalpole/?originalSubdomain=fr">
              <i class="fa fa-linkedin" aria-hidden="true"></i>
            </a>
            <a href="https://www.instagram.com/digitalpole_ux/">
              <i class="fa fa-instagram" aria-hidden="true"></i>
            </a>
          </div>
        </div>
      </div>
      <div class="header_bottom">
        <div class="container-fluid">
          <nav class="navbar navbar-expand-lg custom_nav-container ">
            <a class="navbar-brand" href="index.html">
              <img src="images/logo.png" alt="">
            </a>
            </a>

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class=""> </span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav  ">
                <li class="nav-item ">
                  <a class="nav-link" href="index.html">Accueil <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="service.html">Services</a>
                </li>
                <li class="nav-item active">
                  <a class="nav-link" href="about.html"> A propos</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="project.html">Estimez votre projet</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="testimonial.html">equipe</a>
                </li>
                <li class="nav-item ">
                  <a class="nav-link" href="contact.html">Contact </a>
                </li>
                
                
              </ul>
            </div>
          </nav>
        </div>
      </div>
    </header>
    <!-- end header section -->
  </div>
       
          
      

  <!-- about section -->

  <section class="about_section layout_padding">
    <div class="container  ">
      <div class="row">
        <div class="col-md-6">
          <div class="detail-box">
            <div class="heading_container">
              <h2>
                À propos de nous
              </h2>
            </div>
            <p>
              Digitalpole est une agence web full service basée à Paris et Marrakech, nous sommes une équipe passionnée d’experts du numérique, spécialisée dans le développement web et mobile.
              Notre mission ? 
              Accompagner nos clients à chaque étape de leur projet, depuis la conceptualisation initiale jusqu'à la concrétisation de solutions digitales innovantes, que ce soit des sites web captivants ou des applications mobiles percutantes
              
              Nos domaines d’expertise sont :
              
                  • Développement web 
                  • Application mobile
                  • Stratégie digitale
              
              
              
              
              
              Notre vision n'est pas que de vendre des services ou des solutions Web. Nous voulons devenir un partenaire d'affaire et de choix à long terme avec nos clients afin d'offrir des solutions Web innovantes aux entreprises. 
              
              Nous nous efforçons constamment à devenir l'agence Web numéro un parmi les différentes solutions Web qui existent sur le marché. Nous prenons le temps d'écouter et de conseiller notre client, afin de lui proposer les solutions digitales adaptées à ses besoins réels.
            </p>
        
          </div>
        </div>
        <div class="col-md-6 ">
          <div class="">
            <img src="images/about-img.jpg" alt="" width="700" height="300">

          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- end about section -->

   <!-- info section -->
   <section class="info_section ">
  
    <div class="container">
      <div class="contact_nav">
        <a href="">
          <i class="fa fa-phone" aria-hidden="true"></i>
          <span>
          téléphone : +(33)0189 480 123
          </span>
        </a>
        <a href="ttps://www.google.com/intl/fr/gmail/about/">
          <i class="fa fa-envelope" aria-hidden="true"></i>
          <span>
            Email : CONTACT@DIGITALPOLE.FR
          </span>
        </a>
        <a href="https://www.google.com/maps/place/23+Rue+du+D%C3%A9part,+75014+Paris,+France/@48.8424255,2.3231097,19.04z/data=!4m6!3m5!1s0x47e671cc7cea12d3:0xa18549261354a602!8m2!3d48.842216!4d2.3235124!16s%2Fg%2F11b8v4bv_y?entry=ttu">
          <i class="fa fa-map-marker" aria-hidden="true"></i>
          <span>
          localisation : 23 RUE DU DEPART 75014 PARIS 
          </span>
        </a>
      </div>

      <div class="info_top ">
        <div class="row info_main_row">
          <div class="col-sm-6 col-md-4 col-lg-3">
            <div class="info_links">
              <h4>
              Liens Utiles
              </h4>
              <div class="info_links_menu">
                <a class="" href="index.html">Accueil <span class="sr-only">(current)</span></a>
                <a class="" href="service.html">Services</a>
                <a class="" href="about.html"> A propos  </a>
                <a class="" href="project.html">estimez votre projet</a>
                <a class="" href="testimonial.html">equipe</a>
                <a class="" href="contact.html">Contact </a>
              </div>
            </div>
          </div>
          <div class="col-sm-6 col-md-4 col-lg-3 mx-auto">
            <div class="info_post">
              <h5>
              fil d'actualité Instagram
              </h5>
              <div class="post_box">
                <div class="img-box">
                  <img src="images/instagram.jpg" alt="">
                </div>
                <div class="img-box">
                  <img src="images/instagram.jpg" alt="">
                </div>
                <div class="img-box">
                  <img src="images/instagram.jpg" alt="">
                </div>
                <div class="img-box">
                  <img src="images/instagram.jpg" alt="">
                </div>
                <div class="img-box">
                  <img src="images/instagram.jpg" alt="">
                </div>
                <div class="img-box">
                  <img src="images/instagram.jpg" alt="">
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="info_form">
              <h4>
              inscrivez-vous à notre site web
              </h4>
              <form action="">
                <input type="text" placeholder="Entrez votre adresse mail" />
                <button type="submit">
                S'abonner
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
      <div class="info_bottom">
        <div class="row">
          <div class="col-md-2">
            <div class="info_logo">
              <a href="">
                <img src="images/" alt="">
              </a>
            </div>
          </div>
          <div class="col-md-4 ml-auto">
            <div class="social_box">
              <a href="https://web.facebook.com/Digitalpole/?_rdc=1&_rdr">
                <i class="fa fa-facebook" aria-hidden="true"></i>
              </a>
              <a href="https://twitter.com/Digitalpole_UX">
                <i class="fa fa-twitter" aria-hidden="true"></i>
              </a>
              <a href="https://www.linkedin.com/company/digitalpole/?originalSubdomain=fr">
                <i class="fa fa-linkedin" aria-hidden="true"></i>
              </a>
              <a href="https://www.instagram.com/digitalpole_ux/">
                <i class="fa fa-instagram" aria-hidden="true"></i>
              </a>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>
  <!-- end info_section -->


  <!-- footer section -->
  <footer class="footer_section">
    <div class="container">
      <p>
        &copy; <span id="displayYear"></span> ous droits réservés par
        <a href="https://html.design/">...</a>
      </p>
    </div>
  </footer>
  <!-- footer section -->

  <!-- jQery -->
  <script src="js/jquery-3.4.1.min.js"></script>
  <!-- popper js -->
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
  </script>
  <!-- bootstrap js -->
  <script src="js/bootstrap.js"></script>
  <!-- owl slider -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js">
  </script>
  <!--  OwlCarousel 2 - Filter -->
  <script src="https://huynhhuynh.github.io/owlcarousel2-filter/dist/owlcarousel2-filter.min.js"></script>
  <!-- custom js -->
  <script src="js/custom.js"></script>
  <!-- Google Map -->
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCh39n5U-4IoWpsVGUHWdqB6puEkhRLdmI&callback=myMap">
  </script>
  <!-- End Google Map -->

</body>

</html>






<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;
use App\Models\client;
use App\Models\projet;

class ProjetController extends Controller
{
    public function show()
    {
        return view('projet');
    }

    public function store(Request $request)
    {
        // Validation des données reçues
        $request->validate([
            'nom' => 'required|string',
            'type_projet' => 'required|string',
            'description' => 'required|string',
            'technologies' => 'nullable|string',
            'design_preference' => 'required|string',
            'pages' => 'required|string',
            'additional_pages' => 'required|integer',
            'nomc' => 'required|string',
            'prenomc' => 'required|string',
            'emailc' => 'required|email',
            'phonec' => 'required|string',
        ]);

        // Création du client
        $client = Client::create([
            'nomc' => $request->nomc,
            'prenomc' => $request->prenomc,
            'emailc' => $request->emailc,
            'phonec' => $request->phonec,
        ]);

        // Création du projet en le liant au client
        $project= Projet::create([
            'nom' => $request->nom,
            'type_projet' => $request->type_projet,
            'description' => $request->description,
            'technologies' => $request->technologies,
            'design_preference' => $request->design_preference,
            'pages' => $request->pages,
            'additional_pages' => $request->additional_pages,
            'client_id' => $client->id, // Lier le projet au client
        ]);
            

        
      // Calcul des estimations
      $temps = $this->calculateTemps(
        $request->type_projet,
        $request->description,
        $request->technologies,
        $request->design_preference,
        $request->pages
    );
    $cout = $this->calculateCout(
        $request->type_projet,
        $request->description,
        $request->technologies,
        $request->design_preference,
        $request->pages
    );


       // Afficher les résultats de l'estimation
       return view('estimation', compact('project', 'temps', 'cout'));
   }

   private function calculateTemps($typeProjet, $descriptionProjet, $technologies, $styleDesign, $nombrePages)
{
    // Logique pour calculer le temps estimé
    $temps = 0;

    // Calculer le temps en fonction du type de projet
    if ($typeProjet == "site_web_vitrine") {
        $temps += 20;
    } elseif ($typeProjet == "application_web") {
        $temps += 40;
    } elseif ($typeProjet == "ecommerce") {
        $temps += 60;
    }

    // Calculer le temps en fonction de la description du projet
    $temps += strlen($descriptionProjet) / 10;

    // Calculer le temps en fonction des technologies
    if (in_array("PHP", $technologies)) {
        $temps += 15;
    }
    if (in_array("Python", $technologies)) {
        $temps += 20;
    }
    if (in_array("Java", $technologies)) {
        $temps += 30;
    }
    if (in_array("HTML/CSS/JavaScript", $technologies)) {
        $temps += 10;
    }

    // Calculer le temps en fonction du style de design
    if ($styleDesign == "simple") {
        $temps += 10;
    } elseif ($styleDesign == "moderne") {
        $temps += 15;
    } elseif ($styleDesign == "classique") {
        $temps += 12;
    }

    // Calculer le temps en fonction du nombre de pages
    $temps += $nombrePages * 3;

    return $temps;
}

private function calculateCout($typeProjet, $descriptionProjet, $technologies, $styleDesign, $nombrePages)
{
    // Logique pour calculer le coût estimé
    $cout = 0;

    // Calculer le coût en fonction du type de projet
    if ($typeProjet == "site_web_vitrine") {
        $cout += 1000;
    } elseif ($typeProjet == "application_web") {
        $cout += 2000;
    } elseif ($typeProjet == "ecommerce") {
        $cout += 3000;
    }

    // Calculer le coût en fonction de la description du projet
    $cout += strlen($descriptionProjet) / 2;

    // Calculer le coût en fonction des technologies
    if (in_array("PHP", $technologies)) {
        $cout += 750;
    }
    if (in_array("Python", $technologies)) {
        $cout += 1000;
    }
    if (in_array("Java", $technologies)) {
        $cout += 1500;
    }
    if (in_array("HTML/CSS/JavaScript", $technologies)) {
        $cout += 500;
    }

    // Calculer le coût en fonction du style de design
    if ($styleDesign == "simple") {
        $cout += 500;
    } elseif ($styleDesign == "moderne") {
        $cout += 750;
    } elseif ($styleDesign == "classique") {
        $cout += 600;
    }

    // Calculer le coût en fonction du nombre de pages
    $cout += $nombrePages * 150;

    return $cout;
}

public function calculateEstimation(Request $request)
{
    // Récupérer les données du formulaire
    $typeProjet = $request->input('type_projet');
    $descriptionProjet = $request->input('description_projet');
    $technologies = $request->input('technologies');
    $styleDesign = $request->input('style_design');
    $nombrePages = $request->input('nombre_pages');

    // Calculer le temps et le coût en fonction des réponses du formulaire
    $temps = $this->calculateTemps($typeProjet, $descriptionProjet, $technologies, $styleDesign, $nombrePages);
    $cout = $this->calculateCout($typeProjet, $descriptionProjet, $technologies, $styleDesign, $nombrePages);

    // Rediriger vers la vue d'estimation avec les résultats
    return redirect()->route('estimation.show')->with([
        'project' => (object) $request->all(),
        'temps' => $temps,
        'cout' => $cout
    ]);
}

}
