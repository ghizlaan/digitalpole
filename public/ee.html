<!-- resources/views/estimation/resultat.blade.php -->

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Résultats de l'estimation</title>

   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"> 
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
   <style> @import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap');

body{
    font-family: 'Open Sans', sans-serif;
    
}


.form-control{
    
    border:none;
    padding-left:32px;
}

.form-control:focus{
    
    border:none;
    box-shadow:none;
}

.green{
    
    color:green;
}
</style>
</head>
<body>
  <h1>
    {{ $project->nom}}
    {{$project->type_projet}}
  </h1>

  <!-- Formulaire d'estimation -->
 
        
   
    <div class="table-responsive">
    <table class="table table-responsive table-borderless">
        
      <thead>
        <tr class="bg-light">
          <th scope="col" width="5%"><input class="form-check-input" type="checkbox "></th>
          <th scope="col" width="5%">#</th>
          <th scope="col" width="20%">Date</th>
          <th scope="col" width="10%">Status</th>
          <th scope="col" width="20%">Customer</th>
          <th scope="col" width="20%">Purchased</th>
          <th scope="col" class="text-end" width="20%"><span>Revenue</span></th>
        </tr>
        
      </thead>
  <tbody>
    <tr>
      <th scope="row"><input class="form-check-input" type="checkbox"></th>
      <td>12</td>
      <td>1 Oct, 21</td>
      <td><i class="fa fa-check-circle-o green"></i><span class="ms-1">Paid</span></td>
      <td><img src="https://i.imgur.com/VKOeFyS.png" width="25"> Althan Travis</td>
      <td>Wirecard for figma</td>
      <td class="text-end"><span class="fw-bolder">$0.99</span> <i class="fa fa-ellipsis-h  ms-2"></i></td>
    </tr>
    
    <tr>
      <th scope="row"><input class="form-check-input" type="checkbox"></th>
      <td>14</td>
      <td>12 Oct, 21</td>
      <td><i class="fa fa-dot-circle-o text-danger"></i><span class="ms-1">Failed</span></td>
      <td><img src="https://i.imgur.com/nmnmfGv.png" width="25"> Tomo arvis</td>
      <td>Altroz furry</td>
      <td class="text-end"><span class="fw-bolder">$0.19</span> <i class="fa fa-ellipsis-h  ms-2"></i></td>
    </tr>
    
    
    <tr>
      <th scope="row"><input class="form-check-input" type="checkbox"></th>
      <td>17</td>
      <td>1 Nov, 21</td>
      <td><i class="fa fa-check-circle-o green"></i><span class="ms-1">Paid</span></td>
      <td><img src="https://i.imgur.com/VKOeFyS.png" width="25"> Althan Travis</td>
      <td>Apple Macbook air</td>
      <td class="text-end"><span class="fw-bolder">$1.99</span> <i class="fa fa-ellipsis-h  ms-2"></i></td>
    </tr>
    
    
    <tr>
      <th scope="row"><input class="form-check-input" type="checkbox"></th>
      <td>90</td>
      <td>19 Oct, 21</td>
      <td><i class="fa fa-check-circle-o green"></i><span class="ms-1">Paid</span></td>
      <td><img src="https://i.imgur.com/VKOeFyS.png" width="25"> Travis head</td>
      <td>Apple Macbook Pro</td>
      <td class="text-end"><span class="fw-bolder">$9.99</span> <i class="fa fa-ellipsis-h  ms-2"></i></td>
    </tr>
    
    
    <tr>
      <th scope="row"><input class="form-check-input" type="checkbox"></th>
      <td>12</td>
      <td>1 Oct, 21</td>
      <td><i class="fa fa-check-circle-o green"></i><span class="ms-1">Paid</span></td>
      <td><img src="https://i.imgur.com/nmnmfGv.png" width="25"> Althan Travis</td>
      <td>Wirecard for figma</td>
      <td class="text-end"><span class="fw-bolder">$0.99</span> <i class="fa fa-ellipsis-h  ms-2"></i></td>
    </tr>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  </tbody>
</table>
  
  </div>
    
</div>








<head>
  <style>.firma-card{
  width: 1000px;
  background: #fff;
  border: 1px solid;
  border-color: #3ed6db40;
  margin: 1rem auto;
  border-radius: 5px;
  box-shadow: 0 4px 6px -1px rgb(10, 159, 185);
  margin-bottom: 1.6%;
  overflow: hidden;
  }
  .firma-resim{
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-size: cover;
  background-position: center;
  transition: -webkit-transform .2s;
  transition: transform .2s;
  background-image: url(https://storage.googleapis.com/chydlx/codepen/blog-cards/image-1.jpg);
  }
  .firmalar{
  background: #f1f4f5c7;
  height: 100%;
  }
  
  @media (max-width: 768px) {
  
  .firma-logo{
          width: calc(33.66667% - .75rem);
          height: 6.5rem;
          margin: 5px .375rem;
  }
  .firma-resim {
      position: relative;
      z-index: 0;
      height: 200px;
  }
  .img-padding-no{
      padding-right: 0px;
      padding-left: 0px;
  }
  }
  </style> 
  </head>
  <body>
  <h1>
      {{ $project->nom}}
      {{$project->type_projet}}
  </h1> 
  
  
  <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
  <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <!------ Include the above in your HEAD tag ---------->
  
  <div class="firmalar">    
  <div class="container">
      <div class="row">
          <div class="col-md-2"></div>
          <div class="col-md-8">
              <div class="firma-card row">
                  <div class="col-md-5 img-padding-no">
                      <div class="firma-resim">
                          <a href="#">
  
                          </a>
                      </div>
                  </div>
                  <div class="col-md-7">
                      <div class="firma-aciklama card-body">
                          <h5>Cout</h5><br>
                          <h6>  {{ $project->nom}}</h6>
  
                          <ul class="yacht-info__list space-2">
                              <li>
                                  <i class="search-boat-icon fa search-captain vertical-align-mid"></i>
                                  <span class="vertical-align-mid"><h6>type de projet : {{$project->type_projet}}  </h6></span>
                              </li>
                              <li>
                                  <i class="search-boat-icon fa search-captain vertical-align-mid"></i>
                                  <span class="vertical-align-mid"><h6>Description:{{$project->description}}</h6></span>
                              </li>
                              <li>
                                  <i class="search-boat-icon fa search-captain vertical-align-mid"></i>
                                  <span class="vertical-align-mid"><h6>Technologies:{{$project->technologies}}</h6></span>
                              </li>
                              <li>
                                  <i class="search-boat-icon fa search-captain vertical-align-mid"></i>
                                  <span class="vertical-align-mid"><h6>Disign:{{$project->design_preference}}</h6></span>
                              </li>
                              <li>
                                  <i class="search-boat-icon fa search-captain vertical-align-mid"></i>
                                  <span class="vertical-align-mid"><h6>Nombre des pages: {{$project-> additional_pages}}</h6></span>
                              </li>
                          </ul>
  
  
                      </div>
                  </div>
              </div>
              <div class="firma-card row">
                  <div class="col-md-5 img-padding-no">
                      <div class="firma-resim">
                          <a href="#">
  
                          </a>
                      </div>
                  </div>
                  <div class="col-md-7">
                      <div class="firma-aciklama card-body">
                          <h5>Délais</h5><br>
                          <h6>  {{ $project->nom}}</h6>
                          <ul class="yacht-info__list space-2">
                              <li>
                                  <i class="search-boat-icon fa search-captain vertical-align-mid"></i>
                                  <span class="vertical-align-mid"><h6>type de projet : {{$project->type_projet}}  </h6></span>
                              </li>
                              <li>
                                  <i class="search-boat-icon fa search-captain vertical-align-mid"></i>
                                  <span class="vertical-align-mid"><h6>Description:{{$project->description}}</h6></span>
                              </li>
                              <li>
                                  <i class="search-boat-icon fa search-captain vertical-align-mid"></i>
                                  <span class="vertical-align-mid"><h6>Technologies:{{$project->technologies}}</h6></span>
                              </li>
                              <li>
                                  <i class="search-boat-icon fa search-captain vertical-align-mid"></i>
                                  <span class="vertical-align-mid"><h6>Disign:{{$project->design_preference}}</h6></span>
                              </li>
                              <li>
                                  <i class="search-boat-icon fa search-captain vertical-align-mid"></i>
                                  <span class="vertical-align-mid"><h6>Nombre des pages: {{$project->additional_pages}}</h6></span>
                              </li>
                          </ul>
  
  
                      </div>
                  </div>
              </div>
  
  
          </div>
          <div class="col-md-2"></div>
      </div>
  </div>
  </div>
  <script>
      document.getElementById('estimationForm').addEventListener('submit', function(event) {
          event.preventDefault();
          
          const formData = new FormData(this);
          const data = Object.fromEntries(formData.entries());
          data.technologies = formData.getAll('technologies[]');
  
          fetch('/calculate-estimation', {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/json',
                  'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').getAttribute('content')
              },
              body: JSON.stringify(data)
          })
          .then(response => response.json())
          .then(result => {
              console.log(result);
              alert(`Temps: ${result.temps} heures, Coût: ${result.cout} euros`);
          })
          .catch(error => console.error('Error:', error));
      });
  </script>
  </body>